<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Youssef Challenge Game</title>
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f0f0f, #1a1a1a);
      color: white;
      text-align: center;
      padding: 20px;
    }
    .navbar {
      background: #111;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 0 10px #0ff;
    }
    .navbar .logo {
      font-weight: bold;
      font-size: 20px;
      color: #0ff;
    }
    .player-list {
      margin: 20px 0;
    }
    .player {
      margin: 5px 0;
      font-size: 18px;
    }
    .player-card {
      background: #333;
      padding: 10px;
      margin: 10px;
      border: 2px solid #0ff;
      border-radius: 10px;
      box-shadow: 0 0 10px #0ff;
      text-align: center;
    }
    .card {
      background: #222;
      padding: 20px;
      margin: 20px auto;
      width: 320px;
      min-height: 120px;
      border-radius: 12px;
      box-shadow: 0 0 10px #0ff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 18px;
      border-radius: 8px;
      border: 2px solid #0ff;
      background: transparent;
      color: #0ff;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #0ff;
      color: #111;
      box-shadow: 0 0 10px #0ff;
    }
    .hidden {
      display: none;
    }
    .gold {
      color: gold;
      font-weight: bold;
    }
    #allPlayersBox {
      margin-top: 20px;
    }
    .player-list-item {
      background: #333;
      margin: 8px 0;
      padding: 8px;
      border-radius: 8px;
      box-shadow: 0 0 8px #0ff;
    }
  </style>
  <audio id="bgMusic" src="sounds/background.mp3" loop></audio>
  <audio id="clickSound" src="sounds/click.mp3"></audio>
</head>
<body>
  <nav class="navbar">
    <div class="logo">Youssef Challenge Zone</div>
    <div class="navbar-buttons">
      <button onclick="toggleTheme(); playClickSound()">Theme</button>
      <button onclick="toggleMusic(); playClickSound()" id="musicBtn">🎵 Music On</button>
      <select id="languageSelect" onchange="changeLanguage(); playClickSound()">
        <option value="en">English</option>
        <option value="ar">العربية</option>
        <option value="de">Deutsch</option>
        <option value="es">Español</option>
      </select>
      <button onclick="exitGame()" style="background: darkred; color: white;">Exit</button>    </div>
    <div id="mainPlayerPoints"></div>
  </nav>
  <div class="player-list" id="playerList">
    <h3>Players</h3>
    <div id="players"></div>
    <input type="text" id="playerNameInput" placeholder="Enter player name">
    <button onclick="addPlayer()">Add Player</button>
    <button onclick="startGame()">Start Game</button>
  </div>
  <div id="gameSection" class="hidden">
    <div id="allPlayersBox" style="background: #222; padding: 10px; margin: 20px auto; width: 300px; border-radius: 10px; box-shadow: 0 0 10px #0ff;">
      <h3>Players List</h3>
      <div id="allPlayersList"></div>
    </div>
    <div id="currentPlayerBox" style="background: #222; padding: 10px; margin: 10px auto; width: 300px; border-radius: 10px; box-shadow: 0 0 10px #0ff;">
      <h2 id="currentPlayer"></h2>
      <p id="currentPlayerPoints">Points: 0</p>
    </div>
    <h3 id="currentLevel">Level 1</h3>
    <div class="card" id="challengeCard">Click "Next Challenge" to start!</div>
    <button id="nextChallengeBtn">Next Challenge</button>
    <button id="completeChallengeBtn" class="hidden">I Completed It!</button>
    <button id="skipChallengeBtn" class="hidden">Skip (-50 Points)</button>
    <button id="punishmentBtn" class="hidden" style="background: #8B0000; border: 2px solid red; color: white; box-shadow: 0 0 10px red;">😈 عقاب (-5 نقاط)</button>
    <p id="points">Points: 0</p>
    <button id="finishGameBtn" class="hidden" style="font-size: 40px; padding: 30px 60px; background: linear-gradient(45deg, gold, orange); border: 5px solid white; border-radius: 20px; color: black; box-shadow: 0 0 20px gold; cursor: pointer;">🏆 Finish The Game! 🏆</button>
  </div>
  <script>
    document.getElementById('finishGameBtn').addEventListener('mouseenter', moveFinishButton);

function moveFinishButton() {
  const button = document.getElementById('finishGameBtn');
  const randomTop = Math.random() * 80;
  const randomLeft = Math.random() * 80;
  button.style.transform = "scale(0.7)";
  button.style.position = "fixed";
  button.style.top = `${randomTop}%`;
  button.style.left = `${randomLeft}%`;
  setTimeout(() => {
    button.style.transform = "scale(1)";
  }, 500);
}
    // (هكمللك هنا الجزء الثاني بعد موافقتك — عشان متقفزش الرسالة بسبب الحجم الكبير)
    // بيانات اللعبة
let players = [];
let currentPlayerIndex = 0;
let challenges = []; // التحديات
let goldChallenges = []; // تحديات جولد
let mainPlayerPoints = 0;
let currentLevel = 1;

const level1Challenges = [
"غني أغنية وانت مغمض عيونك قدام الكل 🎤",
"قول اسم الكراش بتاعك بصوت عالي قدامنا ❤️",
"اتصل بحد وقوله بحبك فجأة 😳📞",
"صور نفسك وانت بتغني وابعت الصورة لصاحبك 🎶😂",
"اعترف بسر محرج حصل لك وانت صغير 🤭",
"امشي زي البطريق قدام أصحابك 🐧",
"اضحك ضحكة مجنونة لمدة ١٥ ثانية 😂",
"اختار صاحب وقلد مشيته قدام الكل 🚶‍♂️",
"اعمل إعلان عن نفسك كأنك منتج للبيع 🛒😆",
"غني أغنية أطفال بصوت جاد جدا 👶🎼",
"قلد صوت قطة بتطلب أكل 🐱🍴",
"قول موقف محرج حصل معاك في المدرسة 🏫😅",
"افتح موبايلك وورينا آخر صورة فيه 📱👀",
"اختر حد وقل له سر غريب عن نفسك 🤫",
"اتكلم بصوت طفولي لدقيقة كاملة 👶🗣️",
"اعترف بموقف حصل وكنت عايز تهرب 🏃‍♂️💨",
"غير اسمك عالواتساب ليوم كامل لاسم مضحك 🤡",
"ارقص رقصة عشوائية في مكانك 💃🕺",
"غني مقطع راب من تأليفك 🎤😆",
"حاول تمشي على رجل واحدة لمدة ٢٠ ثانية 🦵😂",
"اعمل مشهد تمثيلي عن أول crush عجبك 😍🎭",
"اتكلم بلهجة مضحكة لدقيقتين 🗣️🤣",
"قولي أسرع كلمة محرجة تيجي على بالك 🫢",
"صور سيلفي غريبة وابعتها لصديقك 🤳😜",
"اتصرف كأنك في فيلم رعب 🧟‍♂️😱",
"حاول تقرأ جملة طويلة بدون ما تضحك 😂📖",
"غني نشيد المدرسة بصوت مغني راب 🎶👨‍🎤",
"خليك طفل بيعافر عشان حاجة لدقيقة 🍼👶",
"أعمل نفسك مذيع أخبار وقدم خبر غريب 🎙️📰",
"ارسم وش على ورقة وخليه كأنه أنت ✏️😂",
"قولي لقب محرج كنت بتتسمى بيه زمان 😅",
"غني بصوت بطئ جدًا أغنية سريعة 🎶🐢",
"حاول تبكي تمثيل قدام الكل 😭🎭",
"اعمل مشية غريبة جدا في أوضة مليانة ناس 🚶‍♂️🤡",
"اعمل حوار تخيلي بينك وبين قطة 🐱🗣️",
"خليك شخصية كرتونية لدقيقتين 📺🤣",
"غني أغنية حب لحد مش بتحبه 😂💔",
"اكتب اعتراف محرج على ورقة واقرأه قدام الكل 📝😳",
"اتصرف كأنك بتحكي نكتة مش مضحكة 🫠🃏",
"ارقص رقصة الزومبي لمدة ٣٠ ثانية 🧟‍♀️💃",
"قلد حد من العيلة بطريقة مضحكة 👵😂",
"صور فيديو وانت بتقلد تمثال 🗿🎥",
"اعمل نفسك بتتكلم لغة فضائيين 🛸👽",
"قول قصة حب من تأليفك كأنها حقيقة 📖💌",
"قول أسرع أكلة بتحبها بدون ما تفكر 🍕🍔",
"غني أغنية وطنية بصوت حزين جدا 🇪🇬😭",
"ارسم خريطة بلد خيالية وسمها 😆🗺️",
"تكلم عن crush قديم كان عندك وانت طفل 🧒❤️",
"حاول تقنع حد بحاجة وهمية تماما 🤥😂",
"امشي بالعكس لمدة دقيقة كاملة 🚶‍♂️🔄",
"افتح أول رسالة عندك واقرأها بصوت عالي 💬😅",
"خليك مذيع نشرة جوية عن يوم ممطر ☔🎙️",
"قلد إعلان تلفزيوني مشهور بطريقتك 📺🤣",
"اعمل نفسك بتسوق سيارة وانت قاعد 🏎️😂",
"قول نكتة سخيفة جدا وحاول تضحك الناس 🤡😆",
"اعمل نفسك سعيد جدا رغم انك حزين 😭😂",
"اختر أغنية واستخدم جسمك كآلة موسيقية 🥁🤣",
"افتح فيس بوك واقرأ أول بوست بصوت ممثل 🎭📢",
"امدح صاحبك بطريقة غريبة جدا 😂👏",
"حاول تتكلم بسرعة كبيرة جدا لمدة دقيقة 🗣️⚡",
"اعمل نفسك مدرب رياضي ودي الناس تمارين 🏋️‍♂️😂",
"غني مقطع من أغنية قديمة جدا بطريقة أوبرالية 🎶🎤",
"اتكلم كأنك روبوت لمدة دقيقتين 🤖🗣️",
"اعترف بأغبى حاجة عملتها الأسبوع ده 😅🤦‍♂️",
"ارسم وش سعيد على كف إيدك ✋😊",
"غني أغنية حزينة بصوت طفل صغير 👶😭",
"حاول تقنع الناس إنك بتعرف سحر 🧙‍♂️✨",
"امثل مشهد غرامي قديم كأنه حقيقة 🎭❤️",
"اتصرف كأنك لقيت كنز كبير فجأة 🏴‍☠️💰",
"اعمل نفسك عامل مقابلة شغل وهمية 🎤💼",
"ارقص رقصة هندية لمدة دقيقة كاملة 💃🇮🇳",
"اتصل بصاحبك وقله نكتة بايخة 😂📞",
"غني أغنية وانت بتحاول تكتم الضحك 🤣🎶",
"اكتب رسالة حب وهمية واقرأها قدام الكل 💌😅",
"تكلم كأنك في برنامج طبخ وهمي 🍳👨‍🍳",
"اتكلم عن حيوانك المفضل كأنه بطلك الخارق 🦸‍♂️🐶",
"اعمل نفسك طفل عايز لعبة جديدة 🍼🎁",
"اعترف بأكتر حاجة طفولية بتحبها لحد دلوقتي 🎈😂",
"احكي عن أسوأ يوم حصل لك وكأنه كوميدي 😂📅",
"اختار اسم غريب لنفسك وقدم نفسك بيه 🙃👤",
"ارقص كأنك بتحتفل بهدف ⚽💃",
"اقلد مشهد أكشن شهير من فيلم 🎬🔥",
"اتخيل إنك مقدم برامج أطفال وتكلم كده 🎙️👶",
"ارسم قلب على ورقة ووقع عليه ✏️❤️",
"قول حاجة عشوائية أول ما تيجي في بالك 💭🗯️",
"غني أغنية مش فاكر كلماتها 😂🎤",
"تكلم عن crush زمانك كأنه قصة حب قديمة 📖💘",
"اعترف بأغرب crush كان عندك 😅❤️",
"غني جملة إعلان شهير وكأنك ممثل أكشن 🎬😂",
"اصرخ كلمة عشوائية بأعلى صوتك 📢🤣",
"امثل كأنك بطل فيلم حزين 🎭😭",
"اتكلم كأنك جبت ١٠٠٪ في الامتحان وانت عارف انك راسب 😂📚",
"قول أسرع جملة حب تيجي في بالك 💌🫣",
"ارقص كأنك وسط مهرجان 🎉💃",
"اعمل نفسك بتقنع الناس تشتري منتج غريب 😂🛒",
"امثل نفسك مشهور وجالك فانز 🏆😂",
"احكي عن crush مش ممكن تنساه أبدا 🥰🧠",
"غني أغنية شعبية بطريقة أوبرا 😂🎤",
"اعمل نفسك أول مرة تركب طيارة ✈️😆",
"اكتب قصيدة حب من ٣ جمل واقرأها ❤️✍️",
"اتكلم كأنك في مشاجرة وهمية مع أخوك 🤼‍♂️😂",
"اعمل صوت حيوان مفضل عندك 🐯🗣️",
"اقرأ رسالة حب بطريقة رسمية جدا 📝🤓",
"احكي قصة طريفة حصلتلك وانت طفل صغير 👶😂",
"غني أغنية وانت بتقلد حيوان 😂🐸",
"ارقص كأنك في فرح بلدي 🎉💃",
"قول لقب محرج كنت مشهور بيه زمان 😳😂",
"اكتب سر محرج على ورقة واعترف بيه 📜🤭",
"اعترف بأغرب أكلة جربتها في حياتك 🍣🤔",
"امثل نفسك مدير شركة ألعاب فيديو 🎮👨‍💻",
"غني أغنية رومانسية لصاحبك المقرب 😂❤️",
"قول نكتة عن المدرسة بصوت أستاذ 🙄🎤",
"ارقص كأنك كائن فضائي 🛸💃",
"قول سر عن أول حب دخل حياتك 😅❤️",
"ارسم رسمة عشوائية وفسرها قدام الكل 🎨😂",
"اعترف بسر عمرك ما قلته لحد 🎙️😳",
"غني أغنية وانت مغمض عيونك ومش عارف الكلمات 😂🎶",
"اتصرف كأنك سعيد جدا عشان جبت صفر في امتحان 🤣📚",
"اتكلم عن crush عمل معاك موقف محرج 😅💔",
"ارقص وأنت واقف على رجل واحدة 🦵💃",
"غني إعلان شهير وكأنه أغنية حزينة 🎶😭",
"اتكلم وكأنك قاعد في حفلة مفاجأة ليك 🎉😱",
"اتصل بصاحبك وخليه يقول كلمة محرجة 😂📞",
"غني أغنية بصوت رفيع جدا 🔊😜",
"اعمل نفسك بتكتب جواب حب وهمي 💌✍️",
"ارسم قطة غريبة وابعتها لصاحبك 🐱😂",
"اتكلم كأنك في حفلة تخرج 😂🎓",
"ارقص رقصة العصفور 🐦💃",
"غني راب عن crush زمانك 🥰🎤",
"اتصرف كأنك مذيع برنامج أطفال لمدة دقيقة 👶🎙️",
"اعترف بأغرب رسالة جاتلك على موبايلك 📱😅",
"غني أغنية وانت بتقلد صوت روبوت 🤖🎶",
"ارسم وش كوميدي وحطه على وشك 😂🎭",
"تكلم كأنك بتصور إعلان شامبو 😂🧴",
"قلد مشهد من مسلسل مشهور بطريقتك 👏🎥",
"ارقص كأنك طيار بيحتفل بأول رحلة ✈️💃",
"قول سر عن crush مش قادرة تنساه 🥰🧠",
"اكتب اعتراف بسيط عن أول مرة وقعت في الحب ❤️📝",
"غني أغنية وطنية وكأنك مغني راب 🎤🇪🇬",
"اتكلم كأنك مدير مسابقة طبخ 😂🍳",
"ارقص كأنك وسط حلبة ملاكمة 🥊💃",
"اعترف بأغرب حلم شوفته الفترة اللي فاتت 💤🤭",
"غني أغنية حزينة وأنت تضحك 😂😭",
"اعمل مشهد تمثيلي عن crush حزين 🥲🎭",
"قول كلمة حب لأول حد يقابلك في الشارع ❤️🚶‍♂️",
"ارسم قلوب صغيرة على ورقة وأرميها في الهوا ❤️🎈",
"غني جزء من أغنية أطفال وانت بتضحك 🤣👶",
"امثل نفسك مذيع رياضي بيتكلم عن ماتش خيالي ⚽🎙️",
"اكتب بيت شعر رومانسي بسيط ✍️❤️",
"غني أغنية عن أكلك المفضل 🍔🎶",
"اتصرف كأنك عملت حفلة عيد ميلاد لنفسك 🎂😂",
"غني نشيد وطني بطريقة مضحكة 🇪🇬🎶",
"احكي قصة حب خيالية ألفتها دلوقتي ❤️📖",
"ارسم وش حزين على ايدك ✋😭",
"ارقص رقصة فرح فجائية قدام الكل 🎉💃",
"غني أغنية شعبية قديمة كأنك مطرب سوبرستار 🎤✨",
"قول نكتة قصيرة جدا وحاول تضحك الناس 😂🃏",
"ارسم قلب مكسور على ورقة 💔✏️",
"امثل نفسك بطل رومانسي في فيلم أبيض وأسود 🎬❤️",
"ارقص رقصة رومانسية مع نفسك 💃🕺",
"مين أول حد حبّيته في حياتك 🥰؟",
"ايه أكتر سر مخبيه عن صحابك 🤐؟",
"تحب تبكي قدام حد ولا تكتم جواك 😔؟",
"لو الكراش بتاعك كلمك دلوقتي، تقول له ايه 😳؟",
"آخر مرة كنت محرج فيها كانت امتى 😅؟",
"تحب أكتر تكون جريء ولا خجول 🙈؟",
"لو شفت حبيبك مع حد تاني، تعمل ايه 💔؟",
"اعترف بسر عمرك ما قلته لحد 😶‍🌫️؟",
"تحب تبعت رسالة حب ولا تعبر وجها لوجه 😍؟",
"لو رجعت بالزمن، تعترف بحبك لمين 🕰️❤️؟",
"عمرك قلت لحد (أنا بحبك) وندمت؟ 😔❤️‍🩹",
"ايه اكتر حاجة محرجة حصلتلك قدام crush؟ 😳💘",
"ايه اكتر حاجة غبية عملتها عشان تعجب حد؟ 🤡❤️",
"تحب مين يبعتلك رسالة حب دلوقتي؟ 📩💕",
"لو قدامك كراش جديد، تعمل ايه اول حاجة؟ 👀❤️",
"مين آخر شخص حلمت بيه وانت نايم؟ 💤😳",
"ايه اكتر تصرف بيخليك تحب شخص بسرعة؟ ⚡❤️",
"لو لقيت حد بيحبك وانت مش بتحبه، تتصرف ازاي؟ 🙈💔",
"اكتر حاجة محرجة حصلتلك وانت معجب بحد؟ 😅💘",
"تحب تقول مشاعرك ولا تفضل ساكت؟ 🤐💬",
"تحب تتعرف على حد صدفة ولا عن طريق حد؟ 🍀🤝",
"مين الكراش اللي عمرك ما اعترفتله؟ 😳❤️",
"ايه اول كلمة تيجي في بالك عن الحب؟ ❤️🗣️",
"لو قدرت تكتب رسالة سرية لحد بتحبه، تكتب ايه؟ 📝❤️",
"تحب الحب من اول نظرة ولا الحب اللي بيجي مع الوقت؟ 👀❤️",
"لو قابلت حب الطفولة دلوقتي، تقول له ايه؟ 👶❤️",
"ايه اكتر اغنية حب بتوصف حالتك دلوقتي؟ 🎶❤️",
"لو كان عندك فرصة تبعت بوكيه ورد لحد، تبعته لمين؟ 🌹📬",
"ايه اكتر كلمة بتحب تسمعها من حد بتحبه؟ 💬❤️",
"لو لقيت حد معجب بيك وانت مش عارف، تحب تعرف؟ 😅❓",
"ايه اكتر تصرف ممكن يخليك تقع في حب شخص؟ 😍🎯",
"عمرك اعترفت بحبك قدام ناس؟ 😳🎤",
"لو حد فاجأك برسالة حب، تحس بايه؟ 🥺❤️",
"ايه اكتر مكان بتحب تكون فيه مع اللي بتحبه؟ 🌅❤️",
"تحب ترتبط بحد يشبهك ولا مختلف عنك؟ 🤔❤️",
"ايه أكتر حاجة بتفرحك من حد بتحبه؟ 😊🎁",
"لو قدامك فرصة ترجع تكلم حد، تختار مين؟ 🔙❤️",
"مين اكتر حد دعملك وقت ما كنت محتاج؟ 🫂❤️",
"ايه اكتر فيلم رومانسي بتحبه؟ 🎬💘",
"لو شفت كراش قديم فجأة، هتتصرف ازاي؟ 😳🚶‍♂️",
"ايه أكتر موقف رومانسي نفسك تعيشه؟ ✨❤️",
"تحب الاعترافات المباشرة ولا التلميحات؟ 🔥🙈",
"تحب تتكلم مع الكراش عن كل حاجة ولا تحافظ على الغموض؟ 🕵️‍♂️❤️",
"ايه أكتر لون بيرمزلك للحب؟ 🎨❤️",
"ايه اكتر لحظة رومانسية عشتها؟ 🥰🕰️",
"لو جالك جواب حب مجهول، تتصرف ازاي؟ 💌❓",
"ايه اكتر حاجة بتخليك تبتسم غصب عنك؟ 😊❤️",
"لو تقدر تختار اغنية لحبك الأول، تختار ايه؟ 🎶❤️",
"اكتر كلمة رومانسية بتحبها؟ 💬❤️",
"ايه اكتر حلم بتحلم تعيشه مع اللي بتحبه؟ 💤💑",
"تحب تبعت اغنية ولا كلمة لما تشتاق لحد؟ 🎶❤️",
"لو قدامك وردة واحدة تهديها لمين؟ 🌹👤",
"ايه اكتر حاجة محرجة قلتها لحد بتحبه؟ 😅💬",
"لو تقدر تمثل قصة حب، تكون مع مين؟ 🎭❤️",
"ايه اكتر طبع بتحبه في اللي بتحبه؟ 💖👀",
"تحب المفاجآت ولا تعرف كل حاجة قبلها؟ 🎁❓",
"لو قدامك اعترافين، تفضل تسمعه ولا تعترف؟ 🎤❤️",
"ايه اكتر ذكرى حب محفورة جواك؟ 🧠❤️",
"مين اكتر حد وحشك ومش قادر تنساه؟ 😢❤️",
"لو كنت شخصية في قصة حب، تكون البطل ولا الغامض؟ 📖🦸‍♂️",
"ايه اكتر اغنية لما تسمعها تفتكر حد بتحبه؟ 🎧❤️",
"تحب مين يرقص معاك لوحدكم تحت المطر؟ ☔💃",
"اكتر كلمة حب نفسك تسمعها دلوقتي؟ 👂❤️",
"لو تقدر تكتب نصيحة حب لنفسك القديمة، تكتب ايه؟ 📝❤️",
"ايه اكتر حاجة مجنونة نفسك تعملها مع اللي بتحبه؟ 🤪❤️",
"تحب تبعت لحد (وحشتني) ولا تستنى هو اللي يقولها؟ 😢💬",
"اكتر حد نفسك تعترفله بحبك بس مش قادر؟ 🫣❤️",
"لو تقدر تشارك سر مع حد بتحبه، يكون ايه؟ 🔐❤️",
"تحب اول لقاء يكون مفاجأة ولا مرتب؟ 🎉📅",
"ايه اكتر طبع لو شفته تحب شخص فورا؟ 👀❤️",
"ايه اكتر حاجة بتحسسك بالامان مع حد بتحبه؟ 🛡️❤️",
"لو في فيلم عن قصتك العاطفية، تسميه ايه؟ 🎥💔",
"ايه اكتر اكلة ترتبط بذكريات حب عندك؟ 🍲❤️",
"ايه اكتر تصرف عفوي نفسك تشوفه من اللي بتحبه؟ 🥰🙈",
"ايه اكتر كلمة حب بتلخبطك؟ 😳❤️",
"لو قابلت حب حياتك دلوقتي، تقول له ايه؟ ❤️🗣️",
"ايه اكتر حاجة ممكن تخليك تعترف فجأة؟ 💬💥",
"تحب الرسائل الطويلة ولا كلمة واحدة تقلبك؟ ✉️❤️",
"اكتر هدية رومانسية نفسك تجيلك؟ 🎁💖",
"لو تقدر تعيش يوم مع شخص بتحبه، تعملوا ايه؟ 👫🕰️",
"ايه اكتر اغنية حب بتحسسك بالحنين؟ 🎶😭",
"ايه اكتر حركة بسيطة بتسعدك؟ 😊💞",
"تحب الاعتراف فجأة ولا تلميحات طويلة؟ 🔥👀",
"لو قدرت تغير مصير حب قديم، تغيره؟ 🔄❤️",
"ايه اكتر حاجة محرجة حصلتلك قدام crush؟ 😳😂",
"ايه اكتر موقف اتمنيت فيه تقول بحبك وسكت؟ 🤐❤️",
"لو معاك وردة واحدة، تهديها لمين دلوقتي؟ 🌹👤",
"اكتر ذكرى حب مش قادر تمحيها؟ 🧠💔",
"تحب تقول بحبك مرة واحدة ولا كل يوم؟ 📅❤️",
"ايه اكتر نظرة مش قادر تنساها؟ 👁️❤️",
"لو قابلت حب قديم، تبتسم ولا تمشي؟ 🙂🚶‍♂️",
"ايه اكتر جملة حب نفسك تسمعها قبل النوم؟ 💤❤️",
"لو حد اعترفلك بحبك فجأة، تحس بايه؟ 😳❤️",
"ايه اكتر حلم حلو حلمته عن حد بتحبه؟ 🌙❤️",
"ايه اكتر كلمة لو سمعتها من crush قلبك يدق؟ ❤️🔊",
"تحب تعيش قصة حب هادية ولا مجنونة؟ 💕🤪",
"ايه اكتر حاجة تخليك تضعف قدام شخص بتحبه؟ 🥺❤️",
"لو قابلت اول حب في حياتك، ايه اول كلمة تقولها؟ 🕰️❤️",
"ايه اكتر لحظة حب نفسك تعيشها؟ ✨❤️",
"تحب الورد ولا الهدايا الرمزية؟ 🌹🎁",
"ايه اكتر اغنية حب تتمنى يسمعها حد بيحبك؟ 🎶💖",
"لو كنت شخصية كرتونية عاشقة، تبقى مين؟ 🎥❤️",
"ايه اكتر طبع غريب بتحبه في حد بتحبه؟ 🙃❤️",
"تحب البداية الصدفة ولا النظرة الاولى؟ 👀❤️",
"اكتر ذكرى حب بتضحك لما تفتكرها؟ 😂❤️",
"تحب تهدي أغنية ولا تكتب شعر لحد؟ 🎵✍️",
"لو شفت حد بتحبه فجأة، تتصرف ازاي؟ 😳❤️",
"ايه اكتر حاجة لو عملها الكراش تذوب؟ 🔥❤️",
"اكتر مشهد حب تحسه واقعي بالنسبالك؟ 🎥❤️",
"لو عندك وقت مع حبيبك دقيقة واحدة، تقول ايه؟ ⏱️❤️",
"ايه اكتر كلمة حب بتحب تقولها؟ ❤️🗣️",
"تحب تغني لحد بتحبه ولا تبعتله اغنية؟ 🎤💌",
"ايه اكتر رسالة حب احتفظت بيها؟ ✉️❤️",
"تحب مفاجأة ولا تقترح انت المفاجآت؟ 🎉🤔",
"اكتر طبع لو شفته تقع في حب حد علطول؟ 👀❤️",
"لو قدامك فرصة تعترف بحبك دلوقتي، تعترف؟ 🗣️❤️",
"ايه اكتر لحظة حب تفتكرها طول حياتك؟ 🧠❤️",
"تحب الاعتراف الكتابي ولا الكلام؟ 📝🗣️",
"اكتر كلمة حب بتفرحك من جوه؟ 🥰❤️",
"لو رجعت بالزمن، تعترف بحبك ولا تسيبه مستور؟ 🕰️🤐",
"ايه اكتر اغنية حب تحسها مكتوبة عنك؟ 🎶❤️",
"تحب تبكي من الفرحة ولا تضحك من الحب؟ 😭😂❤️",
"اكتر لقب رومانسي نفسك حد يناديك بيه؟ 🥰💬",
"لو شفت كراش الطفولة، تسلم عليه ولا تهرب؟ 🤝🏃‍♂️",
"ايه اكتر كلمة حب تخليك تبتسم؟ 😊❤️",
"اكتر لحظة حب نفسك تعيشها مع حد بتحبه؟ 🥺❤️",
"لو تكتب رسالة اعتراف حب، تبدأها بايه؟ 💌📝",
"ايه اكتر نظرة عين علقت معاك؟ 👁️‍🗨️❤️",
"اكتر لحظة حب فيها قلبك دق جامد؟ ❤️🔊",
"تحب الحب في نظرة ولا الحب في تصرفات؟ 👀🤝",
"اكتر حاجة بتخليك تحب حد بدون تفكير؟ 💖🧠",
"لو تبعت وردة دلوقتي لحد، تبعتها لمين؟ 🌹📩",
"اكتر كلمة حب بتحسها صادقة لما تسمعها؟ 🫶❤️",
"ايه اكتر موقف حب حسيت فيه انك بتطير؟ ✈️❤️",
"تحب رسالة مكتوبة بخط الايد ولا رسالة واتساب؟ ✍️📱",
"اكتر كلمة حب نفسك تسمعها فجأة؟ ❤️🎙️",
"لو ترسم لحظة حب، ترسم ايه؟ 🎨❤️",
"اكتر لحظة حب تتمنى تعيشها السنة دي؟ 🎯❤️",
];

const level1GoldChallenges = [
  "جاوب بصراحة على سؤال محرج ⭐",
  "غني مقطع أغنية قدام كل الناس ⭐",
  "اعمل تحدي مضحك قدام الكاميرا ⭐",
  "اعترف بسر محرج عن نفسك قدام الكل ⭐",
"ابعت مسج لحد بتحبه وقوله (وحشتني جدا ومش قادر اخبي) ⭐",
"اتكلم عن اكتر موقف اتكسفت فيه بطريقة محرجة ⭐",
"ارقص رقصة غريبة لمدة ٣٠ ثانية قدام صحابك ⭐",
"ابعت لقريب مش بتكلمه رسالة (أنا فخور بيك) ⭐",
"اعترف باسم حد نفسك ترجع تكلمه بس خايف ⭐",
"خلي حد يختارلك عقاب محرج وتنفذه دلوقتي ⭐",
];

const punishments = [
  "اتصل بحد بتحبه وقوله (أنا كنت بحبك من زمان ومكسوف أعترف) 😳🔥",
"ابعت لصاحبك وقوله (بحبك ومش قادر أخبي) 💌🤣",
"غني أغنية حب بصوت عالي قدام كل صحابك 🎤❤️",
"اتصل بحد عشوائي من تليفونك وقوله (أنا معجب بيك) 😂📞",
"ابعتي فويس كأنك بتعيط وحد بيواسيكي 😭🎙️",
"انزل اعترف لشخص غريب إنك معجب بيه 🏃‍♂️😂",
"ابعتي رسالة (أنا بحلم بيك كل يوم) لحد مش بتكلمه 💤😳",
"اعمل بوست على ستوري تقول فيه (أنا وقعت في الحب أخيرًا) 💖📱",
"غني أغنية مشهورة بطريقه مضحكة جدا قدام الكل 😂🎶",
"غير اسمك على الواتس لحاجة محرجة ليوم كامل 🥴📱",
"ابعتي لصاحبك رسالة حب رومانسية جدا كأنك بتحبيه 😂💌",
"اتكلم بصوت طفل لمدة دقيقة قدام صحابك 👶🎙️",
"اتكلم مع حد بطريقة درامية ومبالغ فيها 🤡🎭",
"اكتب بوست تقول فيه (أنا اعترفت لحد وحطني بلوك) 😭😂",
"سجل فويس تقولي فيه (أنا بحب الكراش بس خايف أعترف) ✨🎙️",
"ابعتي لقريبك البعيد (أنا مفتقدك جدا) وتستني رده 😂📩",
"اتكلم عن crushك بالتفاصيل قدام الكل 😳🫣",
"ابعت لحد مش بتكلمه (وحشتني جدا رغم اللي حصل) 😭📩",
"اعمل لايك على آخر ٥ صور لحد بتحبه سرا 🫢📱",
"ابعتي لصاحبتك (بحبك أكتر مما تتخيلي) فجأة 😂❤️",
"اتصل بحد من العيلة وقوله (أنا عايز أحكيلك سر خطير) 🔥☎️",
"ابعت لحد معاك في الجامعة (أنا معجب بيك) فجأة 😳🎓",
"اسرد قصة حبك الفاشلة قدام كل اللي قاعدين 😅💔",
"اعترف بسر محرج في الجروب العام 🎯🤣",
"ابعتي فويس لصاحبتك كأنك بتحلمي حلم غريب بيها 😂🌙",
"ابعتي رسالة حب غلط لحد مش المفروض توصله 😳📩",
"اتصل بحد وقوله (ممكن أحبك؟) بطريقة رومانسية 😂❤️",
"اعترف عن crush قديم محدش يعرفه 😳🔥",
"اعمل تحدي تمثيل مشهد اعتراف حب قدام صحابك 🎬🤣",
"ابعتي نص رسالة حب وبعدين تقولي (آسفة غلطة) 😂📱",
"سجل فيديو وانت بتعترف بحبك لحاجة غريبة زي الأكل 🍔😂",
"ابعت بوست عام تقول فيه (بحب ومش قادر أخبي) 😍📢",
"اغمض عنيك ووصف شعورك اول ما تشوف crushك 😳✨",
"اتصل بحد وقوله (أنا مشتاق أشوفك جدًا) فجأة 😂❤️",
"ابعتي لصاحبك رسالة (أنا دايمًا كنت حاسس بحاجة ناحيتك) 😅💌",
"اغني أغنية حب حزينة وأبعت لحد معين 🎶😭",
"انشر بوست (كل الناس بتحب وأنا قاعد لوحدي) 🥲💔",
"اتكلم لمدة دقيقتين عن شخص بتحبه قدام الكل ❤️🗣️",
"ابعتي لقريب بعيد (نفسي أقابلك قريب) 😂📩",
"ابعت رسالة لحد عشوائي في الكونتاكت (بحبك) 🥴📱",
"اعترف قدام الكل بأكتر crush كان عندك عليه هوس 😳🫢",
"اكتب بوست تقول فيه (لو بتحبني ابعتلي وردة) 🌹📲",
"ابعتي لصاحبتك (لو كنت ولد كنت اتقدمتلك) 😂❤️",
"احكي موقف محرج حصل بينك وبين حد بتحبه 😅❤️",
"ابعت لشخص تحبه (فكرت فيك النهارده) فجأة 🥺📩",
"ابعت بوست فيه (أنا مستني رسالة منك) 📨😢",
"اتكلم مع نفسك قدام الناس لمدة دقيقه 🤣🫠",
"ابعتي لصاحبك (أحلم بيك كل يوم) بطريقة درامية 😂💭",
"اطلب من حد تعرفه إنه يعملك إعلان حب مفاجئ 😂🎤",
"احكي عن crushك بطريقة كوميدية قدام صحابك 🤡❤️",
"ابعتي لحد تعرفه (محتاج أكلمك ضروري) وبعدين تضحكي 😂📩",
"اعمل ستوري فيها (بحب ومش عارف أقول لمين) 🥴📱",
"اغمض عينيك وخمن مين بيحبك من صحابك 😂❤️",
"ابعتي لصاحبتك (لو بحبك هتبعتلي ❤️ دلوقتي) 😂",
"ابعت لحد بتحبه (أنا هقولك حاجة بس ماتضحكش) 😂📩",
"اعترف بأكبر حاجة عملتها عشان تكسب انتباه حد 😅🔥",
"ابعتي رسالة لحد مش متوقع منك اهتمام وتقولي (وحشتني) 😳💌",
"اعترف قدام صحابك بمين الكراش الجديد بتاعك 😳🔥",
"ابعت لحد بتحبه (كنت حلم ولا حقيقة؟) 💤😳",
"ابعتي لصاحبتك (حلمت بيكي، كان حلو اوي) 😂🌙",
"انشر بوست تقول فيه (أنا مغرم ومش نادم) 😂💖",
"ابعت لحد قديم رسالة حب غير مباشرة 🥴💬",
"اعترف بسر عمرك ما قلت عليه لحد 😶‍🌫️🔥",
"ابعت فويس وانت بتهزر بس بلهجة رومانسية جدًا 🎙️😂",
"اكتب بوست تقول فيه (انا عندي crush ومكسوف) 😳🫢",
"ابعت لشخص عشوائي (اشتقتلك قوي) 📱😅",
"ابعتي لصاحبتك (بتخيلك كتير اليومين دول) 😂💭",
"اتكلم عن crushك وأكتر حاجة بتحبها فيه قدام الكل 😳❤️",
"ابعتي لصاحبك (أنا شفتك في حلم غريب) 😂💭",
"احلف قدام الكل إنك بتحب شخص معين 😂❤️",
"ابعت لحد مش بتكلمه (فكرت فيك النهارده) فجأة 🥺📩",
"اكتب بوست فيه (كل حاجة بتفكرني بيك) 😂❤️",
"اتكلم عن موقف محرج حصللك لما حاولت تعترف لحد 😂🔥",
"ابعتي لصاحبتك (أنا بحب ضحكتك أكتر من كل حاجة) 😂❤️",
"ابعت لحد قريب (أنا بفتكرك فجأة وبتبسط) 😂📩",
"انشر بوست فيه (الحب غلبني) 🥴❤️",
"ابعتي لصاحبك (أنا بحس بالراحة لما بكلمك) 🥺💬",
"اعترف باسم أكتر حد نفسك تكلمه دلوقتي 😳📢",
"ابعت رسالة لصديقك تقول فيها (انا تعبان عاطفيا) 😂❤️",
"ابعتي لصاحبتك (حسك بيطمني) فجأة 😭💖",
"اتكلم عن crushك وكأنك بتحكي قصة حب حقيقية 🎬❤️",
"ابعتي لحد تحبه (كان نفسي أقولك من بدري) 🥺📩",
"ابعت لصاحبك (أنا معجب بشخص قريّب منك) 😂❤️",
"اعترف عن crush عندك من السوشيال ميديا 😂📱",
"اتصل بحد بتحبه وقوله (بحبك بدون سبب) ❤️😂",
"ابعت لحد رسالة (انت وحشت قلبي) فجأة 🥺💖",
"انشر بوست فيه (أنا وقعت ومفيش حد سندني) 😂💔",
"ابعت لصاحبتك (حاسة اني مخبية عليك حاجة) 😂📩",
"اتكلم بصراحة شديدة عن crushك الحالي قدام الكل 🔥❤️",
"ابعت لصاحبك (انا محتاجك اكتر مما تتخيل) 😂💌",
"احكي عن أغرب طريقة حاولت تبين بيها حبك لحد 😂❤️",
];

function generatePunishmentReward() {
  const rand = Math.random();
  if (rand < 0.005) return 100; // 0.5% فرصة
  if (rand < 0.015) return 50;  // 1% فرصة
  if (rand < 0.035) return 20;  // 2% فرصة
  if (rand < 0.065) return 10;  // 3% فرصة
  if (rand < 0.115) return 5;   // 5% فرصة
  if (rand < 0.195) return 4;   // 8% فرصة
  if (rand < 0.295) return 3;   // 10% فرصة
  if (rand < 0.495) return 2;   // 20% فرصة
  return 1; // 50% فرصة
}

function addPlayer() {
  const name = document.getElementById('playerNameInput').value.trim();
  if (name) {
    players.push({ name: name, points: 0 });
    updatePlayers();
    updateAllPlayersList();
    document.getElementById('playerNameInput').value = '';
  }
}

function updatePlayers() {
  const playersDiv = document.getElementById('players');
  playersDiv.innerHTML = '';
  players.forEach((player, index) => {
    const card = document.createElement('div');
    card.className = 'player-card';
    card.innerHTML = `<strong>${player.name}</strong><br>Points: ${player.points}`;
    playersDiv.appendChild(card);
  });
}

function updateAllPlayersList() {
  const allPlayersDiv = document.getElementById('allPlayersList');
  allPlayersDiv.innerHTML = '';
  players.forEach(player => {
    const item = document.createElement('div');
    item.className = 'player-list-item';
    item.innerHTML = `<strong>${player.name}</strong> - ${player.points} pts`;
    allPlayersDiv.appendChild(item);
  });
}

function updateCurrentPlayerInfo() {
  document.getElementById('currentPlayer').textContent = players[currentPlayerIndex].name;
  document.getElementById('currentPlayerPoints').textContent = `Points: ${players[currentPlayerIndex].points}`;
}

function startGame() {
  if (players.length === 0) return;
  document.getElementById('playerList').classList.add('hidden');
  document.getElementById('gameSection').classList.remove('hidden');
  updateCurrentPlayerInfo();
  challenges = [...level1Challenges];
  goldChallenges = [...level1GoldChallenges];
  updateMainPoints();
  updateAllPlayersList();
}

function updateMainPoints() {
  document.getElementById('mainPlayerPoints').textContent = `⭐ Main Player Points: ${mainPlayerPoints}`;
}

document.getElementById('nextChallengeBtn').addEventListener('click', () => {
  let isGold = Math.random() <= 0.15; // نسبة الجولد 15%
  let challengeText = '';

  if (isGold && goldChallenges.length > 0) {
    const idx = Math.floor(Math.random() * goldChallenges.length);
    challengeText = goldChallenges[idx];
    challengeCard.innerHTML = `<span class='gold'>${challengeText}</span>`;
  } else if (challenges.length > 0) {
    const idx = Math.floor(Math.random() * challenges.length);
    challengeText = challenges[idx];
    challengeCard.innerText = challengeText;
  } else {
    challengeCard.innerText = "No more challenges!";
  }

  document.getElementById('nextChallengeBtn').classList.add('hidden');
  document.getElementById('completeChallengeBtn').classList.remove('hidden');
  document.getElementById('skipChallengeBtn').classList.remove('hidden');
  document.getElementById('punishmentBtn').classList.remove('hidden');
});

document.getElementById('completeChallengeBtn').addEventListener('click', () => {
  handleChallengeCompletion(true);
});

document.getElementById('skipChallengeBtn').addEventListener('click', () => {
  handleChallengeCompletion(false);
});

document.getElementById('punishmentBtn').addEventListener('click', () => {
  handlePunishment();
});

function handleChallengeCompletion(completed) {
  if (completed) {
    let text = document.getElementById('challengeCard').innerText;
    let isGold = text.includes('⭐');
    let pointsEarned = 0;

    if (isGold) {
      players[currentPlayerIndex].points += 15;
      mainPlayerPoints += 2;
      pointsEarned = 15;
    } else {
      players[currentPlayerIndex].points += 1;
      mainPlayerPoints += 2;
      pointsEarned = 1;
    }

    showRewardBubble(pointsEarned);

    nextTurn();
    updateCurrentPlayerInfo();
  } else {
    if (players[currentPlayerIndex].points >= 50) {
      players[currentPlayerIndex].points -= 50;
      nextTurn();
      updateCurrentPlayerInfo();
    } else {
      alert("ماينفعش تتخطى التحدي! انت معندكش نقاط كفاية لازم تعمل التحدي!");
    }
  }
}

function handlePunishment() {
  if (players[currentPlayerIndex].points >= 5) {
    players[currentPlayerIndex].points -= 5;
  } else {
    players[currentPlayerIndex].points = 0;
  }

  const punishment = punishments[Math.floor(Math.random() * punishments.length)];
  alert(`😈 عقابك هو:\n${punishment}\nنفذه الآن!`);

  // بعد تنفيذ العقاب يحسب النقاط
  setTimeout(() => {
    const reward = generatePunishmentReward();
    players[currentPlayerIndex].points += reward;
    showRewardBubble(reward);

    nextTurn();
    updateCurrentPlayerInfo();
    updateAllPlayersList();
    updateMainPoints();
  }, 2000); // انتظار ثانيتين وكأن اللاعب نفذ العقاب
}

function showRewardBubble(points) {
  const bubble = document.createElement('div');
  bubble.textContent = `+${points} pts`;
  bubble.style.position = 'fixed';
  bubble.style.top = (Math.random() * 50 + 25) + '%';
  bubble.style.left = (Math.random() * 50 + 25) + '%';
  bubble.style.background = 'rgba(255, 215, 0, 0.9)';
  bubble.style.color = '#000';
  bubble.style.padding = '10px 20px';
  bubble.style.borderRadius = '20px';
  bubble.style.fontSize = '20px';
  bubble.style.boxShadow = '0 0 10px gold';
  bubble.style.zIndex = '1000';
  bubble.style.opacity = '1';
  bubble.style.transition = 'all 1s ease-out';
  document.body.appendChild(bubble);

  setTimeout(() => {
    bubble.style.transform = 'scale(1.5)';
    bubble.style.opacity = '0';
  }, 100);

  setTimeout(() => {
    bubble.remove();
  }, 1200);
}

function nextTurn() {
  currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
  updateCurrentPlayerInfo();
  updatePlayers();
  updateAllPlayersList();
  updateMainPoints();
  document.getElementById('completeChallengeBtn').classList.add('hidden');
  document.getElementById('skipChallengeBtn').classList.add('hidden');
  document.getElementById('punishmentBtn').classList.add('hidden');
  document.getElementById('nextChallengeBtn').classList.remove('hidden');
  document.getElementById('challengeCard').innerText = "Click 'Next Challenge' to start!";
  
  checkLevelUp();
}

function checkLevelUp() {
  const totalPoints = players.reduce((sum, player) => sum + player.points, 0);

  if (totalPoints >= 150 && currentLevel === 1) {
    setTimeout(() => {
      if (confirm("مجموع نقاط كل اللاعبين وصل 150! عايزين تدخلوا المرحلة التانية؟")) {
        currentLevel++;
        document.getElementById('currentLevel').textContent = `Level ${currentLevel}`;

        // تغيير لون النيون إلى أحمر
        document.querySelectorAll('.card, .player-card, .player-list-item, #currentPlayerBox, #allPlayersBox').forEach(el => {
          el.style.boxShadow = "0 0 10px red";
          el.style.border = "2px solid red";
        });

        // تحديات المرحلة الثانية
        challenges = [
          "لو صحابك عرفوا الكراش بتاعك، هتعمل إيه؟ 🤭",
"مين آخر شخص حلمت بيه وانت نايم؟ 😴",
"إيه أكتر تصرف طفولي بتعمله لحد دلوقتي؟ 🧸",
"لو لازم تعترف لحد بحبك النهاردة، هتختار مين؟ ❤️",
"إيه أكتر موقف اتمنيت الأرض تنشق وتبلعك فيه؟ 😖",
"إيه أغرب حاجة قلتها وأنت مرتبك قدام حد بتحبه؟ 😳",
"لو تقدر تعيد لحظة واحدة من حياتك، هتختار إيه؟ ⏳",
"اخر مرة بكيت كانت ليه؟ 😢",
"اعترف باسم أول شخص حبيته بجد؟ 💌",
"مين الشخص اللي كسرك ومش قادر تنساه؟ 💔",
"عمرك قلت لحد بحبك وانت مش حاسس بيها بجد؟ 🤥",
"موقف اتحرجت فيه وانت بتحاول تبين اهتمامك بحد؟ 🥺",
"ايه اكتر رسالة ندمت إنك بعتها؟ 📱",
"لو قدرت تغير حاجة في شكلك، هتغير ايه؟ 🤔",
"مين الشخص اللي كان نفسك يكمل معاك ومكملش؟ 😔",
"اتحرجت قبل كده من اهلك بسبب الكراش؟ 😂",
"لو هتختار حد تعيش معاه يوم كامل، هيكون مين؟ 💭",
"اعترف بإسم شخص كنت بتراقبه على السوشيال ميديا؟ 🧐",
"اكتر اكاونت بتدخله تشوفه كل شوية وانت مكسوف؟ 📲",
"عمرك عملت اكاونت مزيف عشان تراقب حد؟ 👀",
"لو قدامك تعترف دلوقتي لحد، هتقول ايه؟ 💬",
"ايه اخر حاجة خلتك تحس بالندم؟ 😞",
"موقف محرج حصلك قدام حد بتحبه؟ 😳",
"اكتر كلمة بتتكسف تقولها قدام حد معين؟ 🙈",
"لو حد عرف سر خطير عنك، تتصرف ازاي؟ 😱",
"ايه اخر موقف ضحكك وانت كنت مكسوف؟ 😂",
"لو لقيت الكراش قدامك فجأة، هتقول ايه؟ 😍",
"عمرك كتبت شعر أو رسالة حب لحد؟ ✍️❤️",
"ايه اكتر كلمة نفسك تسمعها من شخص معين؟ 🥰",
"لو صحيت لقيت رسالة اعتراف من الكراش، هتعمل ايه؟ 📩",
"اتكسفت قبل كده بسبب موقف في المدرسة؟ 🏫😅",
"اكتر حاجة ندمت عليها بسبب تسرعك؟ 🏃‍♂️💨",
"لو في امنية واحدة تتحقق دلوقتي، هتختار ايه؟ 🎯",
"اعترف بحاجة نفسك تعملها بس مش قادر؟ 😶",
"مين الشخص اللي مستحيل تنساه مهما حصل؟ 🧠❤️",
"اكتر عادة محرجة عندك؟ 🤐",
"لو حبيت حد ومقدرتش توصله، هتعمل ايه؟ 💔",
"عمرك حبيت حد وانت عارف انه مش ليك؟ 😔",
"لو قدرت تغير قرار واحد خدته، هيكون ايه؟ 🔄",
"ايه اكتر حاجة ندمت انك ما قلتهاش لحد؟ 🤐",
"لو في فرصة تعترف لحد بحبك بدون خجل، هتقول لمين؟ ❤️",
"موقف خلى وشك يحمر قدام الناس؟ 😳🍅",
"اعترف بسر صغير محدش يعرفه عنك؟ 🤫",
"اكتر اكلة كنت بتكسف تطلبها قدام الناس؟ 🍕😂",
"موقف خليك تتمنى تختفي؟ 🫣",
"ايه اخر حلم غريب حلمت بيه؟ 🌙",
"لو حياتك فيلم، هيكون اسمه ايه؟ 🎥",
"مين اكتر شخص نفسك تقول له كلمة (بحبك) ومش قادر؟ ❤️‍🔥",
"موقف خلاك تحس انك ضعيف قدام حد بتحبه؟ 😢",
"لو صحابك قروا ملاحظات موبايلك، ايه اكتر حاجة هتكسفك؟ 📓",
"عمرك جالك شعور حب من طرف واحد؟ 💔",
"ايه اكتر حاجة خلتك تغير من نفسك؟ 🔥",
"اعترف بحاجة كان نفسك تعملها ومقدرتش؟ 🎯",
"موقف حصل بينك وبين الكراش وعمرك ما نسيته؟ 💭",
"لو كنت تقدر تبعت رسالة بدون كشف الهوية، هتبعتها لمين؟ ✉️",
"ايه اكتر غلطة كررتها كذا مرة؟ 🔁",
"موقف خليت فيه شكلك بايخ قدام الناس؟ 🙈",
"اعترف بحاجة خبيتها عن اهلك زمان؟ 🏠",
"لو قدرت تبعت مسج واحدة لشخص واحد، هتكتبله ايه؟ 📝",
"موقف محرج حصللك وانت بتحاول تبين اهتمامك؟ 🫢",
"مين الكراش اللي مستحيل تعترفله مهما حصل؟ 🔒❤️",
"اتصل على حد وقوله (انا بحبك ومش قادر اخبي اكتر)! 📞❤️",
"ابعتي لحد رسالة وتقولي فيها (وحشتني اوي) بدون مقدمات! 💬🥺",
"صور فيديو وانت بتغني اغنية رومانسية ونزله ستوري! 🎤❤️",
"ابعت اخر ايموجي استخدمته لشخص عشوائي! 😂📱",
"قلد شخصية مشهورة قدام صحابك لمدة دقيقتين! 🎭",
"اعترف لحد من غير مناسبة بحاجة بتحبها فيه! 💌",
"ابعت لحد (انا مش قادر انساك) وشوف رده ايه! 💭",
"صور نفسك وانت بتقول اعتراف محرج ونزله! 🤭📸",
"غني اغنية حب بصوت عالي قدام صحابك! 🎶😳",
"اعمل ستوري مكتوب فيها (وحشتني) من غير ما تذكر مين! 😈",
"اتكلم بصوت طفل لمدة دقيقتين قدام الكل! 🧸",
"ارقص رقصة محرجة قدام صحابك وصورها! 💃🕺",
"اتصل بحد وقوله (كنت بحلم بيك امبارح)! 😅📞",
"ابعت رسالة لحد فيها بس (🙈❤️‍🔥) وشوف رده! 😂",
"اعترف بسر عن نفسك للي قاعد جنبك! 🫣",
"خلي حد يختارلك اسم غريب غير اسمك وندهك بيه طول اليوم! 🏷️",
"غني اغنية حزينة وكأنك بتعيش الدراما بجد! 🎭😢",
"اختار حد وقلده في طريقة كلامه لمدة دقيقة! 🗣️",
"ابعتي لقائمة اخر ٥ اشخاص في الشات (بحبكم)! 🥰📩",
"اقري آخر رسالة صوتية جتلك بصوت درامي مبالغ فيه! 🎙️😂",
"غير صوتك لهجة مضحكة وتكلم بيها ربع ساعة! 🎤🤣",
"ابعت ايموجي (💔) لحد تحبه وشوف هيقولك ايه! 😳",
"قول نكتة بايخة وحاول تخلي الناس تضحك! 😜",
"افتح الكاميرا وسجل اعتراف محرج مدته ١٥ ثانية! 📸🤭",
"ابعت آخر صورة في معرضك لحد عشوائي! 😳📷",
"اتكلم عن اول كراش كان في حياتك كأنك بتحكي قصة حب! 💘",
"اكتب بوست قصير جدا تعبر فيه عن حبك لشخص معين من غير ذكر اسمه! 📝💖",
"ابعت لصاحبك رسالة (انت وحشني قوي) وشوف رده! 😂",
"سجل مقطع صوتي وانت بتقول (انا شخص لطيف ومكسوف) وبعته لحد! 🎤🙈",
"اعترف بحاجه كنت بتخبيها عن صحابك زمان! 🫢",
"غني مقطع من اغنية محرجة انت بتحبها سرًا! 🎶😳",
"قلد حد بتحبه بطريقة ضحكته قدام الكل! 😂🎭",
"اعمل ستوري واطلب من الناس يسألوك أسئلة محرجة! 📲🔥",
"ابعت لحد رسالة فاضية وشوف هيقولك ايه! 🤣",
"ارقص قدام صحابك حركة عشوائية بدون موسيقى! 🕺🙈",
"اتصل بحد وسأله سؤال محرج جدا! 📞🫣",
"اعترف باسم حد كان كراشك في المدرسة! 🏫❤️",
"اكتب جملة محرجة عن نفسك وحطها ستوري! ✍️🙈",
"اتكلم عن اغبى موقف عملته وانت بتحاول تبهر الكراش! 🥲",
"قول للناس في الجروب كلمة (بحبكو موت) فجأة! 😂",
"ابعت لصاحبك القديم رسالة (كنت واحشني زمان)! 📩💭",
"سجل صوتك وانت بتقول سر خطير وخليه ستوري لمدة ساعة! 🔥",
"اعترف بأكتر رسالة حب مكسوف منها لحد دلوقتي! 💌🙈",
"حط فلتر غريب على وشك وصور بيه ستوري! 🤡📸",
"اكتب اسمك بطريقة مقلوبة وابعت لحد وخليه يفهمك! 🔄",
"امدح اول شخص تشوفه في الشات بدون ما تفكر! 🥰",
"احكي موقف محرج حصلك وانت بتحاول تعبر عن مشاعرك! 😳",
"خلي حد يختارلك عقاب عشوائي وانت تعمله! 🎲",
"غني اغنية اطفال قدام الناس بصوت طفولي! 🎶🧒",
"اعترف بكلمة محرجة دايمًا بتقولها بالغلط! 🤦‍♂️",
"ابعت ايموجي ندمان (😔) لأول شخص يظهرلك! 📱",
"قول اسم حد نفسك تعيش معاه لحظة معينة! ⏳",
"حط صورة غريبة في البروفايل ساعة كاملة! 🤪",
"اعترف بحاجة دايمًا بتكذب فيها عشان متتحرجش! 😶‍🌫️",
"اتصل بحد وقوله (كان نفسي اقولك حاجة بس مكسوف)! 📞❤️‍🩹",
"اتكلم عن اكتر موقف وجعك في صمت قدام الكل! 🥲",
"سجل فيديو بتغني اغنية حب حزينة بطريقة كوميدية! 🎤🤣",
"اعترف باسم حد لسه مش قادر تطلعه من بالك! 🧠❤️",
"حط ستوري مكتوب فيها (خايف اعترف بالحاجة دي) من غير تفاصيل! 😨",
"اكتب اسم اخر شخص دخل دماغك بدون تفكير! 🧠",
"غني اغنية مكسوف منها قدام صحابك بصوت عالي! 🎤🙈",
"ابعت لحد كلمة (كنت بحبك) وشوف رده! 😂💌",
"احكي عن crush الطفولي بتاعك وانت صغير! 🧸💖",
"اعترف بحاجة كنت بتحبها بس مكسوف منها دلوقتي! 🤭",
"اكتب كلمة رومانسية لأول حد يشوف ستورياتك! 📲❤️",
"ارسم قلب على ايدك وصوره وانزله ستوري! ❤️✋",
"قول جملة محرجة نفسك تسمعها من الكراش! 🥺",
"سجل فيديو بتقول فيه (انا رومانسي بس مكسوف)! 🎥❤️‍🔥",
"احكي عن موقف تحس انه كان شبه مشهد فيلم! 🎬",
"اعترف باكتر مرة كنت فيها على وشك تعترف لحد! 🥺",
"ابعت صورة اخر حاجة كلتها لحد وقوله (عايز تشارك؟) 😂🍟",
"اتكلم عن crush المشهور بتاعك وانت صغير! 🌟",
"اعترف بحركة محرجة عملتها وانت بتحاول تعجب حد! 😅",
"صور سيلفي وانت عامل تعبير وجه غريب جدا! 🤪",
"ابعت كلمة (مشتاقلك) من غير مناسبة! 😳",
"اكتب اسم اخر حد حسيته غير حياتك بطريقة حلوة! ✨",
"قول نكتة بايخة وانت بتحاول تبين انها مضحكة جدا! 😜",
"ابعت لصاحبك القديم رسالة (فاكر لما كنت بتضحكني؟)! 😂💬",
"احكي موقف محرج حصلك بسبب اهتمامك المفاجئ بشخص! 😳",
"اعترف بحاجة ندمان انك مخبيها لحد دلوقتي! 😶‍🌫️",
"صور فيديو وانت بتقولي كلمة حب وانت مكسوف! 🎥❤️‍🩹",
"ابعت كلمة (عيب) لأول حد شوفته اونلاين! 🙈",
"قول جملة رومانسية غريبة قدام الكل! 😍",
"اختار حد وابعته صورة غريبة من معرض صورك! 📷",
"اعترف بحاجة مش قادرة تتخلص منها جواك! 💔",
"اعترف باكتر مرة كنت هتقول بحبك ومقدرتش! 🥺",
"قول كلمة محرجة جدا بصوت عالي! 🔥",
"ابعت لحد كلمة (كنت مهم بالنسبالي زمان)! 🥀",
"اعترف باسم اول crush خبط قلبك بجد! 💘",
"صور فيديو وانت بتتكلم عن سر مكسوف منه! 📹",
"اكتب على الستوري (محتاج اعتراف ومش عارف اقوله)! 😢",
"اعترف باكتر كذبة بيضة قلتها لحد بتحبه! 🤥",
"اتكلم عن اكتر خوف عاطفي بتحسه دايمًا! 💔",
"ابعت كلمة (كنت نقطة ضعفي) لحد! 🥺",
"اتصل بحد وقوله (انا مفتقدك بطريقة مش طبيعية)! 📞💖",
        ];

        goldChallenges = [
          "تحدي جولد: اعمل بث مباشر دقيقة ⭐",
          "تحدي جولد: قول حاجة تحرج نفسك بيها ⭐",
          "تحدي جولد: اركض مكانك 30 ثانية بأقصى سرعة ⭐",
        ];
      }
    }, 100);
  } else if (totalPoints >= 300 && currentLevel === 2) {
    setTimeout(() => {
      if (confirm("مجموع نقاط كل اللاعبين وصل 300! عايزين تدخلوا المرحلة التالتة؟")) {
        currentLevel++;
        document.getElementById('currentLevel').textContent = `Level ${currentLevel}`;

        // تغيير لون النيون إلى جولد
        document.querySelectorAll('.card, .player-card, .player-list-item, #currentPlayerBox, #allPlayersBox').forEach(el => {
          el.style.boxShadow = "0 0 10px gold";
          el.style.border = "2px solid gold";
        });

        // تحديات المرحلة الثالثة
        challenges = [
          "اتكلم قدام الجميع عن أكثر شيء محرج مر عليك 😅",
          "اعمل فيديو وتقليد مشهور وتشاركه مع الموجودين 😂",
          "ارقص رقصة مجنونة وسط الغرفة 💃🔥",
          "اتصل بصديق وقل له سر غريب عنك 📞🤐",
          "قلد صوت شخصية كرتونية مشهورة 🎤",
          "جاوب بكل صراحة: أكبر خطأ ارتكبته؟ 🤔",
          "غني أغنية بطريقة كوميدية تماماً 😂",
          "احكي عن موقف محرج جداً حصل معاك فجأة 😳",
          "اعمل تحدي بهلواني صعب أو حاول 🤸‍♂️",
          "اتكلم عن أكثر شخص تحبه في حياتك ❤️",
        ];

        goldChallenges = [
          "تحدي جولد: قول أصعب سر في حياتك ⭐",
          "تحدي جولد: أعمل فيديو بتغني أغنية رومانسية ⭐",
          "تحدي جولد: اقلد مشهد من فيلم مشهور ⭐",
        ];
      }
    }, 100);
  } else if (totalPoints >= 380 && currentLevel === 3) {
    setTimeout(() => {
      if (confirm("مجموع نقاط كل اللاعبين وصل 380! جاهزين للمرحلة الرابعة المجنونة؟ 🚀")) {
        currentLevel++;
        document.getElementById('currentLevel').textContent = `Level ${currentLevel}`;

        // ألوان نيون متحركة في المرحلة الرابعة
        document.querySelectorAll('.card, .player-card, .player-list-item, #currentPlayerBox, #allPlayersBox').forEach(el => {
          el.style.animation = "neonPulse 2s infinite alternate";
          el.style.border = "2px solid cyan";
          el.style.boxShadow = "0 0 20px cyan, 0 0 40px magenta, 0 0 60px yellow";
        });

        const style = document.createElement('style');
        style.innerHTML = `
          @keyframes neonPulse {
            0% {
              box-shadow: 0 0 10px cyan, 0 0 20px magenta, 0 0 30px yellow;
            }
            100% {
              box-shadow: 0 0 20px magenta, 0 0 30px yellow, 0 0 40px cyan;
            }
          }
        `;
        document.head.appendChild(style);

        // تحديات المرحلة الرابعة
        challenges = [
          "كل اللاعبين يعملوا رقصة جماعية مضحكة معًا 😂",
          "كل اللاعبين يقلدوا أغرب شخصية كرتونية معًا 🎭",
          "يعملوا تحدي تمثيل فيلم أكشن مع بعض 🎬",
          "يغنوا أغنية مشهورة بطريقة غريبة معًا 🎤",
          "يرسموا بعضهم بطريقة مضحكة ويروها للجميع 🎨",
          "يعملوا تحدي رياضي جماعي: 10 ضغط + 10 قفزات 🏋️‍♂️",
          "كل واحد يمثل خوفه الأكبر 😱",
          "عمل إعلان مجنون لمنتج وهمي 🎥",
          "الكل يقلد شخصية معروفة بس بأسلوب غريب 😂",
          "يرسموا خريطة العالم بدون ما يشوفوا 😅",
        ];

        goldChallenges = [
          "تحدي جولد جماعي: يعملوا مشهد تمثيلي لفيلم رعب ⭐",
          "تحدي جولد جماعي: يحكوا قصة وهمية مرعبة ⭐",
          "تحدي جولد جماعي: يتظاهروا أنهم روبوتات لمدة دقيقة ⭐",
        ];
      }
    }, 100);
  } else if (totalPoints >= 500 && currentLevel === 4) {
    document.getElementById('finishGameBtn').classList.remove('hidden');

    setTimeout(() => {
      document.getElementById('finishGameBtn').classList.add('hidden');
      showFinalGroupChallenge();
    }, 45000); // بعد 45 ثانية
  }
}
// زرار النهاية وتحريكه
// ---------- Handlers for Game Finish ----------
// زرار النهاية وتحريكه (مرة واحدة فقط)
document.getElementById('finishGameBtn').addEventListener('mouseenter', moveFinishButton);

// ---------- Level Up Logic ----------
/**
 * دالة التحقق من التقدم في المراحل وعرض زر النهاية عند الوصول للنقاط المطلوبة
 * - 150 نقطة ➔ المرحلة 2
 * - 300 نقطة ➔ المرحلة 3
 * - 380 نقطة ➔ المرحلة 4
 * - 500 نقطة ➔ زرار النهاية
 */
function checkLevelUp() {
  const totalPoints = players.reduce((sum, player) => sum + player.points, 0);

  // الانتقال للمرحلة الثانية عند 150 نقطة
  if (totalPoints >= 150 && currentLevel === 1) {
    setTimeout(() => {
      if (confirm("مجموع نقاط كل اللاعبين وصل 150! عايزين تدخلوا المرحلة التانية؟")) {
        currentLevel++;
        document.getElementById('currentLevel').textContent = `Level ${currentLevel}`;
        // تغيير لون النيون إلى أحمر
        document.querySelectorAll('.card, .player-card, .player-list-item, #currentPlayerBox, #allPlayersBox').forEach(el => {
          el.style.boxShadow = "0 0 10px red";
          el.style.border = "2px solid red";
        });
        // تحديات المرحلة الثانية
        challenges = [
          "اعمل فيديو قصير بتغني فيه 🎤",
          "قول موقف محرج حصل معاك 🤭",
          "اعمل حركة رياضية لمدة 20 ثانية 🏋️‍♂️",
          "قول أكتر حاجة بتخاف منها 😱",
          "ارقص رقصة مجنونة لمدة دقيقة كاملة 💃",
          "جاوب على سؤال صعب بدون تردد ⚡",
          "قلد شخصية مشهورة قدام الكل 😂",
          "احكي عن سر عمرك ما قلته لحد 🤐",
          "اعمل حركة بهلوانية لو تقدر 🤸‍♂️",
          "غني أغنية بدون لحن 🎶",
        ];
        goldChallenges = [
          "تحدي جولد: اعمل بث مباشر دقيقة ⭐",
          "تحدي جولد: قول حاجة تحرج نفسك بيها ⭐",
          "تحدي جولد: اركض مكانك 30 ثانية بأقصى سرعة ⭐",
        ];
      }
    }, 100);
  }
  // الانتقال للمرحلة الثالثة عند 300 نقطة
  else if (totalPoints >= 300 && currentLevel === 2) {
    setTimeout(() => {
      if (confirm("مجموع نقاط كل اللاعبين وصل 300! عايزين تدخلوا المرحلة التالتة؟")) {
        currentLevel++;
        document.getElementById('currentLevel').textContent = `Level ${currentLevel}`;
        // تغيير لون النيون إلى جولد
        document.querySelectorAll('.card, .player-card, .player-list-item, #currentPlayerBox, #allPlayersBox').forEach(el => {
          el.style.boxShadow = "0 0 10px gold";
          el.style.border = "2px solid gold";
        });
        // تحديات المرحلة الثالثة
        challenges = [
          "اتكلم قدام الجميع عن أكثر شيء محرج مر عليك 😅",
          "اعمل فيديو وتقليد مشهور وتشاركه مع الموجودين 😂",
          "ارقص رقصة مجنونة وسط الغرفة 💃🔥",
          "اتصل بصديق وقل له سر غريب عنك 📞🤐",
          "قلد صوت شخصية كرتونية مشهورة 🎤",
          "جاوب بكل صراحة: أكبر خطأ ارتكبته؟ 🤔",
          "غني أغنية بطريقة كوميدية تماماً 😂",
          "احكي عن موقف محرج جداً حصل معاك فجأة 😳",
          "اعمل تحدي بهلواني صعب أو حاول 🤸‍♂️",
          "اتكلم عن أكثر شخص تحبه في حياتك ❤️",
        ];
        goldChallenges = [
          "تحدي جولد: قول أصعب سر في حياتك ⭐",
          "تحدي جولد: أعمل فيديو بتغني أغنية رومانسية ⭐",
          "تحدي جولد: اقلد مشهد من فيلم مشهور ⭐",
        ];
      }
    }, 100);
  }
  // الانتقال للمرحلة الرابعة عند 380 نقطة
  else if (totalPoints >= 380 && currentLevel === 3) {
    setTimeout(() => {
      if (confirm("مجموع نقاط كل اللاعبين وصل 380! جاهزين للمرحلة الرابعة المجنونة؟ 🚀")) {
        currentLevel++;
        document.getElementById('currentLevel').textContent = `Level ${currentLevel}`;
        // ألوان نيون متحركة في المرحلة الرابعة
        document.querySelectorAll('.card, .player-card, .player-list-item, #currentPlayerBox, #allPlayersBox').forEach(el => {
          el.style.animation = "neonPulse 2s infinite alternate";
          el.style.border = "2px solid cyan";
          el.style.boxShadow = "0 0 20px cyan, 0 0 40px magenta, 0 0 60px yellow";
        });
        const style = document.createElement('style');
        style.innerHTML = `
          @keyframes neonPulse {
            0% {
              box-shadow: 0 0 10px cyan, 0 0 20px magenta, 0 0 30px yellow;
            }
            100% {
              box-shadow: 0 0 20px magenta, 0 0 30px yellow, 0 0 40px cyan;
            }
          }
        `;
        document.head.appendChild(style);
        // تحديات المرحلة الرابعة
        challenges = [
          "كل اللاعبين يعملوا رقصة جماعية مضحكة معًا 😂",
          "كل اللاعبين يقلدوا أغرب شخصية كرتونية معًا 🎭",
          "يعملوا تحدي تمثيل فيلم أكشن مع بعض 🎬",
          "يغنوا أغنية مشهورة بطريقة غريبة معًا 🎤",
          "يرسموا بعضهم بطريقة مضحكة ويروها للجميع 🎨",
          "يعملوا تحدي رياضي جماعي: 10 ضغط + 10 قفزات 🏋️‍♂️",
          "كل واحد يمثل خوفه الأكبر 😱",
          "عمل إعلان مجنون لمنتج وهمي 🎥",
          "الكل يقلد شخصية معروفة بس بأسلوب غريب 😂",
          "يرسموا خريطة العالم بدون ما يشوفوا 😅",
        ];
        goldChallenges = [
          "تحدي جولد جماعي: يعملوا مشهد تمثيلي لفيلم رعب ⭐",
          "تحدي جولد جماعي: يحكوا قصة وهمية مرعبة ⭐",
          "تحدي جولد جماعي: يتظاهروا أنهم روبوتات لمدة دقيقة ⭐",
        ];
      }
    }, 100);
  }
  // بعد المرحلة الرابعة عند 500 نقطة: إظهار زر النهاية
  else if (totalPoints >= 500 && currentLevel === 4) {
    document.getElementById('finishGameBtn').classList.remove('hidden');
    setTimeout(() => {
      document.getElementById('finishGameBtn').classList.add('hidden');
      showFinalGroupChallenge();
    }, 45000); // بعد 45 ثانية
  }
}

// ---------- Handlers for Game Finish ----------
/**
 * تحريك زرار النهاية عند الاقتراب منه
 */
function moveFinishButton() {
  const button = document.getElementById('finishGameBtn');
  const randomTop = Math.random() * 80;
  const randomLeft = Math.random() * 80;
  button.style.transform = "scale(0.7)";
  button.style.position = "fixed";
  button.style.top = `${randomTop}%`;
  button.style.left = `${randomLeft}%`;
  setTimeout(() => {
    button.style.transform = "scale(1)";
  }, 500);
}

/**
 * عرض التحدي النهائي الجماعي وزيادة النقاط
 */
function showFinalGroupChallenge() {
  const challenge = "💥 تحدي نهائي جماعي: كل اللاعبين يجب أن يمثلوا معًا مشهد درامي حزين لمدة دقيقة كاملة مع استخدام مشاعر حقيقية! 💥";
  document.getElementById('challengeCard').innerText = challenge;
  players.forEach(player => {
    player.points += 50;
  });
  updatePlayers();
  updateAllPlayersList();
  updateMainPoints();
  setTimeout(() => {
    showWinners();
  }, 10000);
}

/**
 * عرض الفائزين النهائيين وتخزينهم في localStorage
 */
function showWinners() {
  players.sort((a, b) => b.points - a.points);
  const topThree = players.slice(0, 3);
  let winnersText = "🏆 النتائج النهائية 🏆\n";
  topThree.forEach((player, index) => {
    winnersText += `${index + 1}. ${player.name} - ${player.points} نقاط\n`;
  });
  alert(winnersText);
  localStorage.setItem('weeklyChampion', topThree[0].name);
  localStorage.setItem('weeklyPoints', topThree[0].points);
  setTimeout(() => {
    window.location.href = "hall-of-fame.html";
  }, 3000);
}
    // اضغط Enter لإضافة اللاعب
    document.getElementById('playerNameInput').addEventListener('keydown', function(event) {
      if (event.key === "Enter") {
        event.preventDefault(); // يمنع أي ريفريش للصفحة
        addPlayer();
      }
    });
    // تحكم بالكيبورد داخل اللعبة
document.addEventListener('keydown', function(event) {
  if (document.getElementById('gameSection').classList.contains('hidden')) return; // لو لسه في شاشة إضافة اللاعبين

  const key = event.key.toLowerCase();

  if (event.key === 'Enter') {
    if (!document.getElementById('nextChallengeBtn').classList.contains('hidden')) {
      document.getElementById('nextChallengeBtn').click();
    } else if (!document.getElementById('completeChallengeBtn').classList.contains('hidden')) {
      document.getElementById('completeChallengeBtn').click();
    }
  }

  if (key === 'w' && !document.getElementById('skipChallengeBtn').classList.contains('hidden')) {
    document.getElementById('skipChallengeBtn').click();
  }

  if (key === 'q' && !document.getElementById('punishmentBtn').classList.contains('hidden')) {
    if (players[currentPlayerIndex].points >= 5) {
      document.getElementById('punishmentBtn').click();
    } else {
      alert("❌ لازم يكون معاك 5 نقاط علشان تختار العقاب!");
    }
  }
});

  let currentTheme = 'dark';

  function toggleTheme() {
    const body = document.body;
    const navbar = document.querySelector('.navbar');
    const buttons = document.querySelectorAll('button');
    const cards = document.querySelectorAll('.card');
    
    if (currentTheme === 'dark') {
      // Light Mode
      body.style.background = 'linear-gradient(135deg, #ffffff, #f0f0f0)';
      body.style.color = '#000';
      navbar.style.background = '#e0e0e0';
      buttons.forEach(btn => {
        btn.style.background = '#fff';
        btn.style.color = '#000';
        btn.style.border = '2px solid #ddd';
      });
      cards.forEach(card => {
        card.style.background = '#f9f9f9';
        card.style.color = '#000';
        card.style.boxShadow = '0 0 10px #ccc';
      });
      currentTheme = 'light';
    } else if (currentTheme === 'light') {
      // Pink Mode
      body.style.background = 'linear-gradient(135deg, #ff69b4, #ff1493)';
      body.style.color = '#000';
      navbar.style.background = '#ff85c0';
      buttons.forEach(btn => {
        btn.style.background = '#ffe4e1';
        btn.style.color = '#000';
        btn.style.border = '2px solid #ff85c0';
      });
      cards.forEach(card => {
        card.style.background = '#ffd1dc';
        card.style.color = '#000';
        card.style.boxShadow = '0 0 10px #ff85c0';
      });
      currentTheme = 'pink';
    } else {
      // Dark Mode
      body.style.background = 'linear-gradient(135deg, #0f0f0f, #1a1a1a)';
      body.style.color = '#fff';
      navbar.style.background = '#111';
      buttons.forEach(btn => {
        btn.style.background = 'transparent';
        btn.style.color = '#0ff';
        btn.style.border = '2px solid #0ff';
      });
      cards.forEach(card => {
        card.style.background = '#222';
        card.style.color = '#fff';
        card.style.boxShadow = '0 0 10px #0ff';
      });
      currentTheme = 'dark';
    }
  }


function toggleMusic() {
  const music = document.getElementById('bgMusic');
  const btn = document.getElementById('musicBtn');
  if (music.paused) {
    music.play();
    btn.textContent = "🎵 Music On";
  } else {
    music.pause();
    btn.textContent = "🔇 Music Off";
  }
}

function changeLanguage() {
  const lang = document.getElementById('languageSelect').value;
  if (lang === 'ar') {
    document.body.dir = 'rtl';
    document.title = "لعبة تحديات يوسف";
    updateButtonLabels({
      addPlayer: "أضف لاعب",
      startGame: "ابدأ اللعبة",
      nextChallenge: "التحدي التالي",
      completeChallenge: "أنجزته!",
      skipChallenge: "تخطي (-50 نقطة)",
      punishment: "😈 عقاب (-5 نقاط)",
      theme: "تغيير النمط",
      exit: "خروج"
    });
  } else if (lang === 'de') {
    document.body.dir = 'ltr';
    document.title = "Youssef Herausforderung Spiel";
    updateButtonLabels({
      addPlayer: "Spieler hinzufügen",
      startGame: "Spiel starten",
      nextChallenge: "Nächste Herausforderung",
      completeChallenge: "Ich habe es geschafft!",
      skipChallenge: "Überspringen (-50 Punkte)",
      punishment: "😈 Strafe (-5 Punkte)",
      theme: "Thema ändern",
      exit: "Beenden"
    });
  } else if (lang === 'es') {
    document.body.dir = 'ltr';
    document.title = "Juego de Desafío de Youssef";
    updateButtonLabels({
      addPlayer: "Agregar jugador",
      startGame: "Iniciar juego",
      nextChallenge: "Siguiente desafío",
      completeChallenge: "¡Lo completé!",
      skipChallenge: "Saltar (-50 puntos)",
      punishment: "😈 Castigo (-5 puntos)",
      theme: "Cambiar tema",
      exit: "Salir"
    });
  } else {
    document.body.dir = 'ltr';
    document.title = "Youssef Challenge Game";
    updateButtonLabels({
      addPlayer: "Add Player",
      startGame: "Start Game",
      nextChallenge: "Next Challenge",
      completeChallenge: "I Completed It!",
      skipChallenge: "Skip (-50 Points)",
      punishment: "😈 Punishment (-5 Points)",
      theme: "Theme",
      exit: "Exit"
    });
  }
}

function updateButtonLabels(labels) {
  document.querySelector('button[onclick*="addPlayer"]').innerText = labels.addPlayer;
  document.querySelector('button[onclick*="startGame"]').innerText = labels.startGame;
  document.getElementById('nextChallengeBtn').innerText = labels.nextChallenge;
  document.getElementById('completeChallengeBtn').innerText = labels.completeChallenge;
  document.getElementById('skipChallengeBtn').innerText = labels.skipChallenge;
  document.getElementById('punishmentBtn').innerText = labels.punishment;
  document.querySelector('button[onclick*="toggleTheme"]').innerText = labels.theme;
  document.querySelector('button[onclick*="toggleMusic"]').innerText = labels.music;
  document.querySelector('button[onclick*="exitGame"]').innerText = labels.exit;
}
function toggleMusic() {
  const music = document.getElementById('bgMusic');
  const btn = document.getElementById('musicBtn');
  if (music.paused) {
    music.play();
    btn.textContent = "🔊 Music On";
  } else {
    music.pause();
    btn.textContent = "🔇 Music Off";
  }
}
function exitGame() {
  if (confirm("هل أنت متأكد أنك تريد الرجوع للصفحة الرئيسية؟")) {
    window.location.href = "index.html"; // قم بتغيير "index.html" إلى اسم الصفحة التي تريد التوجيه إليها
  }
}


function playClickSound() {
  const click = document.getElementById('clickSound');
  click.currentTime = 0; // إعادة تشغيل الصوت من البداية
  click.play();
}
document.getElementById('gameBtn').style.display = 'none';

// إظهار الزر بعد إضافة اللاعبين
function showGameButton() {
  document.getElementById('gameBtn').style.display = 'block';
}

    </script>
    </body>
    </html>